<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Sampritha â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  transition:background 1.5s ease;
}

.card{
  background:#fff;
  border-radius:22px;
  padding:25px;
  width:90%;
  max-width:420px;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
  text-align:center;
  z-index:2;
  animation:pulse 3.5s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.02)}
}

h1{color:#ff4d6d}
p{color:#444}
button{
  margin:8px;
  padding:12px 20px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:15px;
  cursor:pointer;
}
.emoji{font-size:36px}

.image-frame{
  width:100%;
  height:260px;
  border-radius:16px;
  overflow:hidden;
  margin-top:12px;
}
.image-frame img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* dots */
.dots{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-top:10px;
}
.dot{
  width:8px;height:8px;
  border-radius:50%;
  background:#ffd6df;
  cursor:pointer;
}
.dot.active{
  background:#ff4d6d;
  transform:scale(1.5);
}

/* hearts */
.heart{
  position:fixed;
  bottom:-40px;
  font-size:18px;
  animation:float 6s linear infinite;
}
@keyframes float{
  0%{opacity:0;transform:translateY(0)}
  10%{opacity:1}
  100%{opacity:0;transform:translateY(-110vh)}
}

/* music */
#musicBtn{
  position:fixed;
  top:15px;
  right:15px;
  font-size:24px;
  border:none;
  background:white;
  border-radius:50%;
  padding:10px;
  cursor:pointer;
}

/* tic tac toe */
.tic{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:8px;
  justify-content:center;
}
.cell{
  width:80px;height:80px;
  background:#ffe3ea;
  border-radius:15px;
  font-size:36px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
}

/* night */
.night-sky{
  background:radial-gradient(circle,#1b1b3a,#000);
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="love_song.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn">ğŸµ</button>

<div class="card" id="content">
  <div class="emoji">â¤ï¸</div>
  <h1>Hey Sampritha</h1>
  <p>I made something full of love ğŸ¥°</p>
  <button onclick="photos()">Start ğŸ’•</button>
</div>

<script>
/* MUSIC */
const music=document.getElementById("bgMusic");
const musicBtn=document.getElementById("musicBtn");
let muted=false;

musicBtn.onclick=()=>{
  if(music.paused) music.play().catch(()=>{});
  muted=!muted;
  music.muted=muted;
  musicBtn.innerText=muted?"ğŸ”‡":"ğŸµ";
};

/* HEARTS */
setInterval(()=>{
  let h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(14+Math.random()*14)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},400);

/* SLIDESHOW */
const content=document.getElementById("content");
let slideIndex=1;
const totalSlides=15;
let timer,startX=0;

function photos(){
  music.play().catch(()=>{});
  content.innerHTML=`
    <div class="emoji">ğŸ“¸</div>
    <h1>Our Memories â¤ï¸</h1>
    <div class="image-frame" id="frame">
      <img id="slideImg">
    </div>
    <div class="dots" id="dots"></div>
    <p>Swipe left / right ğŸ’•</p>
    <button onclick="ticTacToe()">Play Game ğŸ®</button>
  `;
  createDots();
  loadImage(slideIndex);
  swipe();
}

/* IMAGE LOADER (FIXED FOR CASE + JPG/JPEG) */
function loadImage(n){
  const img=document.getElementById("slideImg");
  const variants=[
    `photo${n}.jpeg`,`photo${n}.jpg`,
    `Photo${n}.jpeg`,`Photo${n}.jpg`,`Photo${n}.JPG`
  ];
  let i=0;
  function tryNext(){
    if(i>=variants.length) return;
    img.src=variants[i++];
    img.onerror=tryNext;
  }
  tryNext();
  document.querySelectorAll(".dot").forEach((d,i)=>{
    d.classList.toggle("active",i+1===n);
  });
}

/* DOTS */
function createDots(){
  const d=document.getElementById("dots");
  d.innerHTML="";
  for(let i=1;i<=totalSlides;i++){
    let dot=document.createElement("div");
    dot.className="dot";
    dot.onclick=()=>{slideIndex=i;loadImage(slideIndex);}
    d.appendChild(dot);
  }
}

/* SWIPE */
function swipe(){
  const f=document.getElementById("frame");
  f.addEventListener("touchstart",e=>startX=e.touches[0].clientX,{passive:true});
  f.addEventListener("touchend",e=>{
    let dx=startX-e.changedTouches[0].clientX;
    if(Math.abs(dx)>50){
      slideIndex = dx>0 ? slideIndex%totalSlides+1 : (slideIndex-1||totalSlides);
      loadImage(slideIndex);
    }
  },{passive:true});
}

/* TIC TAC TOE */
let board,turn,over;

function ticTacToe(){
  board=["","","","","","","","",""];
  turn="âŒ"; over=false;
  content.innerHTML=`
    <h1>Tic Tac Toe ğŸ’—</h1>
    <div class="tic">
      ${board.map((_,i)=>`<div class="cell" onclick="play(${i})"></div>`).join("")}
    </div>
    <p id="msg">Your turn â¤ï¸</p>
    <button onclick="ticTacToe()">Replay ğŸ”</button>
    <button onclick="final()">Next â¡ï¸</button>
  `;
}

function play(i){
  if(over||board[i]) return;
  board[i]=turn;
  document.querySelectorAll(".cell")[i].innerText=turn;
  if(win(turn)){msg(turn+" wins ğŸ˜˜");over=true;return;}
  if(!board.includes("")){msg("Draw ğŸ˜Œ");over=true;return;}
  turn=turn==="âŒ"?"â­•":"âŒ";
}

function win(p){
  const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return w.some(a=>a.every(i=>board[i]==p));
}
function msg(t){document.getElementById("msg").innerText=t}

/* FINAL */
function final(){
  document.body.classList.add("night-sky");
  content.innerHTML=`
    <div class="emoji">ğŸ’</div>
    <h1>I love you Sampritha</h1>
    <p>Today â¤ï¸ Tomorrow ğŸ’« Forever ğŸ’</p>
  `;
}
</script>
</body>
</html>