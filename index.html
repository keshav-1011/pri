<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Sampritha ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card{
  background:#fff;
  border-radius:22px;
  padding:22px;
  width:90%;
  max-width:420px;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
  text-align:center;
}

h1{color:#ff4d6d}
p{color:#444}

button{
  margin:8px;
  padding:12px 20px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:#fff;
  font-size:15px;
  cursor:pointer;
}

.image-frame{
  width:100%;
  height:260px;
  border-radius:16px;
  overflow:hidden;
  margin-top:12px;
  position:relative;
}

.image-frame img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* DOTS */
.dots{
  display:flex;
  justify-content:center;
  margin-top:10px;
  gap:6px;
}

.dot{
  width:8px;
  height:8px;
  background:#ffd6df;
  border-radius:50%;
  cursor:pointer;
  transition:background .3s, transform .3s;
}

.dot.active{
  background:#ff4d6d;
  transform:scale(1.4);
}
</style>
</head>

<body>

<div class="card" id="content">
  <h1>Hey Sampritha ‚ù§Ô∏è</h1>
  <p>I made something special for us ü•∞</p>
  <button onclick="photos()">Open Memories üì∏</button>
</div>

<script>
const content = document.getElementById("content");
let slideIndex = 1;
let totalSlides = 15;
let slideTimer;
let startX = 0;

function photos(){
  content.innerHTML = `
    <h1>Our Memories ‚ù§Ô∏è</h1>

    <div class="image-frame" id="frame">
      <img id="slideImg" src="photo1.jpeg">
    </div>

    <div class="dots" id="dots"></div>

    <p>Swipe left / right üíï</p>
    <button onclick="alert('Winner gets kisses üòò')">Play Game üéÆ</button>
  `;

  createDots();
  startSlideshow();
  enableSwipe();
}

function startSlideshow(){
  clearInterval(slideTimer);
  slideTimer = setInterval(nextSlide, 4000);
}

function nextSlide(){
  slideIndex++;
  if(slideIndex > totalSlides) slideIndex = 1;
  updateSlide();
}

function prevSlide(){
  slideIndex--;
  if(slideIndex < 1) slideIndex = totalSlides;
  updateSlide();
}

function updateSlide(){
  document.getElementById("slideImg").src = `photo${slideIndex}.jpeg`;
  updateDots();
}

function createDots(){
  const dots = document.getElementById("dots");
  dots.innerHTML = "";
  for(let i=1;i<=totalSlides;i++){
    const d = document.createElement("div");
    d.className = "dot";
    d.onclick = ()=>jumpTo(i);
    dots.appendChild(d);
  }
  updateDots();
}

function updateDots(){
  const allDots = document.querySelectorAll(".dot");
  allDots.forEach((d,i)=>{
    d.classList.toggle("active", i+1 === slideIndex);
  });
}

function jumpTo(i){
  slideIndex = i;
  updateSlide();
  startSlideshow();
}

/* SWIPE */
function enableSwipe(){
  const frame = document.getElementById("frame");

  frame.addEventListener("touchstart", e=>{
    startX = e.touches[0].clientX;
  },{passive:true});

  frame.addEventListener("touchend", e=>{
    let endX = e.changedTouches[0].clientX;
    let diff = startX - endX;

    if(Math.abs(diff) > 50){
      clearInterval(slideTimer);
      diff > 0 ? nextSlide() : prevSlide();
      startSlideshow();
    }
  },{passive:true});
}

/* PRELOAD IMAGES */
for(let i=1;i<=15;i++){
  const img=new Image();
  img.src=`photo${i}.jpeg`;
}
</script>

</body>
</html>