<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Sampritha â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  position:relative;
  transition:background 1.5s ease;
}

/* subtle pulsing of main card */
@keyframes cardPulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.02);}
}

.card{
  background:white;
  border-radius:22px;
  padding:25px;
  width:90%;
  max-width:420px;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
  text-align:center;
  z-index:2;
  position:relative;
  animation:cardPulse 3.5s ease-in-out infinite;
}
h1{color:#ff4d6d}
p{color:#444;font-size:15px}
button{
  margin:8px;
  padding:12px 20px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:15px;
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
}
button:hover{
  transform:scale(1.05) translateY(-1px);
  box-shadow:0 6px 14px rgba(0,0,0,.18);
}
.emoji{font-size:36px;margin-bottom:10px}
.image-frame{
  width:100%;
  height:260px;
  background:#fff;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  margin-top:12px;
}
.image-frame img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}

/* FLOATING HEARTS */
.heart{
  position:fixed;
  font-size:18px;
  animation:floatUp 6s linear infinite;
  z-index:1;
  bottom:-40px;
}
@keyframes floatUp{
  0%{transform:translateY(0);opacity:0;}
  10%{opacity:1;}
  100%{transform:translateY(-110vh);opacity:0;}
}

.bg-heart{
  position:fixed;
  font-size:26px;
  opacity:.18;
  animation:bgFloat 16s linear infinite;
  z-index:0;
}
@keyframes bgFloat{
  0%{transform:translateY(0);}
  100%{transform:translateY(-80vh);}
}

#musicBtn{
  position:absolute;
  top:20px;
  background:white;
  border:none;
  font-size:26px;
  padding:10px 14px;
  border-radius:50%;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  cursor:pointer;
  z-index:10;
}

.tic{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:8px;
  justify-content:center;
  margin:15px 0;
}
.cell{
  width:80px;
  height:80px;
  background:#ffe3ea;
  border-radius:15px;
  font-size:36px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
}

canvas{
  position:fixed;
  top:0;left:0;
  pointer-events:none;
}

.night-sky{
  background:radial-gradient(circle at top,#1b1b3a,#000);
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="love_song.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn">ğŸµ</button>

<div class="card" id="content">
  <div class="emoji">â¤ï¸</div>
  <h1>Hey Sampritha</h1>
  <p>I made something smallâ€¦ but full of love ğŸ¥°</p>
  <p><b>Do you want to see what I made for us?</b></p>
  <button onclick="yes1()">Yes ğŸ’•</button>
  <button onclick="no1()">No ğŸ™„</button>
</div>

<script>
const content=document.getElementById("content");
const music=document.getElementById("bgMusic");
const musicBtn=document.getElementById("musicBtn");
let muted=false;

musicBtn.onclick=()=>{
  music.play().catch(()=>{});
  muted=!muted;
  music.muted=muted;
  musicBtn.innerText=muted?"ğŸ”‡":"ğŸµ";
};

/* hearts */
setInterval(()=>{
  let h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(14+Math.random()*14)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},400);

/* flow */
function yes1(){
  content.innerHTML=`<div class="emoji">ğŸ¥°</div><h1>Good choice ğŸ˜Œ</h1>
  <p>When was our first kiss? ğŸ’‹</p>
  <button onclick="wrong()">I forgot ğŸ˜</button>
  <button onclick="kiss()">Nov 10 â¤ï¸</button>`;
}
function no1(){
  content.innerHTML=`<div class="emoji">ğŸ˜¤</div><h1>Excuse me??</h1>
  <p>Go back and press YES ğŸ˜‘</p>
  <button onclick="yes1()">Okay okay ğŸ˜Œ</button>`;
}
function wrong(){
  content.innerHTML=`<div class="emoji">ğŸ¤¦â€â™‚ï¸</div><h1>You donâ€™t know me ğŸ˜¤</h1>
  <button onclick="yes1()">Retry</button>`;
}
function kiss(){
  content.innerHTML=`<div class="emoji">ğŸ’‹</div><h1>Correct â¤ï¸</h1>
  <p>Best gift was YOU</p>
  <button onclick="photos()">Continue ğŸ’</button>`;
}

/* SLIDESHOW â€” FIXED */
function photos(){
  content.innerHTML=`<div class="emoji">ğŸ“¸</div><h1>Our Memories â¤ï¸</h1>
  <div class="image-frame">
    <img id="slideImg">
  </div>
  <p>Enjoy our moments ğŸ¡</p>
  <button onclick="ticTacToe()">Play a game ğŸ®</button>`;

  let slideIndex=1;
  const totalSlides=15;
  const img=document.getElementById("slideImg");

  function loadImage(n){
    const variants=[
      \`photo\${n}.jpeg\`,
      \`photo\${n}.jpg\`,
      \`Photo\${n}.jpeg\`,
      \`Photo\${n}.jpg\`,
      \`Photo\${n}.JPG\`
    ];
    let i=0;
    function tryNext(){
      if(i>=variants.length) return;
      img.src=variants[i++];
      img.onerror=tryNext;
    }
    tryNext();
  }

  loadImage(slideIndex);

  setInterval(()=>{
    slideIndex++;
    if(slideIndex>totalSlides) slideIndex=1;
    loadImage(slideIndex);
  },4000);
}

/* TIC TAC TOE */
let board,current,over=false;
function ticTacToe(){
  board=["","","","","","","","",""];
  current="âŒ"; over=false;
  content.innerHTML=\`<h1>Tic Tac Toe ğŸ’—</h1>
  <div class="tic">\${board.map((_,i)=>\`<div class="cell" onclick="play(\${i})"></div>\`).join("")}</div>
  <p id="msg">Your turn â¤ï¸</p>
  <button onclick="final()">Continue â¡ï¸</button>\`;
}
function play(i){
  if(over||board[i])return;
  board[i]=current;
  document.getElementsByClassName("cell")[i].innerText=current;
  if(checkWin(current)){msg(current+" wins ğŸ˜˜");over=true;return;}
  current=current==="âŒ"?"â­•":"âŒ";
}
function checkWin(p){
  const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return w.some(c=>c.every(i=>board[i]==p));
}
function msg(t){document.getElementById("msg").innerText=t}

/* FINAL */
function final(){
  document.body.classList.add("night-sky");
  content.innerHTML=\`<div class="emoji">ğŸ’</div>
  <h1>I love you Sampritha</h1>
  <p>Today â¤ï¸ Tomorrow ğŸ’« Forever ğŸ’</p>\`;
}
</script>
</body>
</html>