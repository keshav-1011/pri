<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Sampritha â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  position:relative;
}
.card{
  background:white;
  border-radius:22px;
  padding:25px;
  width:90%;
  max-width:420px;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
  text-align:center;
  z-index:2;
}
h1{color:#ff4d6d}
p{color:#444;font-size:15px}
button{
  margin:8px;
  padding:12px 20px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:15px;
  cursor:pointer;
}
button:hover{transform:scale(1.05)}
.emoji{font-size:36px;margin-bottom:10px}
.image-frame{
  width:100%;
  height:260px;
  background:#fff;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  margin-top:12px;
}
.image-frame img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}
.heart{
  position:fixed;
  font-size:18px;
  animation:floatUp 6s linear infinite;
  z-index:1;
}
@keyframes floatUp{
  from{transform:translateY(100vh);opacity:1;}
  to{transform:translateY(-10vh);opacity:0;}
}
#miniCountdown{
  position:fixed;
  top:12px;
  right:12px;
  background:white;
  border-radius:16px;
  padding:10px 14px;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  font-size:12px;
  color:#ff4d6d;
  display:none;
  z-index:5;
}
.tic{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:8px;
  justify-content:center;
  margin:15px 0;
}
.cell{
  width:80px;
  height:80px;
  background:#ffe3ea;
  border-radius:15px;
  font-size:36px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
}
canvas{
  position:fixed;
  top:0;left:0;
  pointer-events:none;
}
#musicBtn{
  position:absolute;
  top:20px;
  background:white;
  border:none;
  font-size:26px;
  padding:10px 14px;
  border-radius:50%;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  cursor:pointer;
  z-index:10;
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="love_song.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn" onclick="toggleMusic()">ğŸµ</button>

<canvas id="fireworks"></canvas>
<div id="miniCountdown"></div>

<div class="card" id="content">
  <div class="emoji">â¤ï¸</div>
  <h1>Hey Sampritha</h1>
  <p>I made something smallâ€¦ but full of love ğŸ¥°</p>
  <p><b>Do you want to see what I made for us?</b></p>
  <button onclick="yes1()">Yes ğŸ’•</button>
  <button onclick="no1()">No ğŸ™„</button>
</div>

<script>
const content=document.getElementById("content");
const music = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');
let isMuted=false, started=false;

/* MUSIC FUNCTIONS */
function startMusic(){
  if(!started){
    music.play().catch(()=>{}); 
    started=true;
  }
}
function toggleMusic(){
  startMusic();
  if(isMuted){ music.muted=false; isMuted=false; musicBtn.innerText="ğŸµ"; }
  else{ music.muted=true; isMuted=true; musicBtn.innerText="ğŸ”‡"; }
}
document.addEventListener('click', startMusic, {once:true});
music.addEventListener('ended', ()=>{music.currentTime=0; music.play();});

/* FLOATING HEARTS */
function spawnHeart(){
  let h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(14+Math.random()*14)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
}
setInterval(spawnHeart,400);

/* FLOW SLIDES */
function yes1(){content.innerHTML=`<div class="emoji">ğŸ¥°</div><h1>Good choice ğŸ˜Œ</h1><p>When was our first kiss? ğŸ’‹</p><button onclick="wrong()">I forgot ğŸ˜</button><button onclick="kiss()">Nov 10 â¤ï¸</button>`;}
function no1(){content.innerHTML=`<div class="emoji">ğŸ˜¤</div><h1>Excuse me??</h1><p>Go back and press YES ğŸ˜‘</p><button onclick="yes1()">Okay okay ğŸ˜Œ</button>`;}
function wrong(){content.innerHTML=`<div class="emoji">ğŸ¤¦â€â™‚ï¸</div><h1>You donâ€™t know me ğŸ˜¤</h1><p>Try again</p><button onclick="yes1()">Retry</button>`;}
function kiss(){content.innerHTML=`<div class="emoji">ğŸ’‹</div><h1>Correct â¤ï¸</h1><p>Nov 10 ğŸ‚ â€” best gift was YOU</p><p><b>What do you find most attractive in me?</b></p><button onclick="wrong()">my hair ğŸ˜‚</button><button onclick="future()">Me â¤ï¸</button>`;}
function future(){content.innerHTML=`<div class="emoji">ğŸ¥¹</div><h1>Awwâ€¦</h1><p><b>Do you see a future with me?</b></p><button onclick="lookHarder()">No ğŸ¤”</button><button onclick="photos()">Yes ğŸ’</button>`;}
function lookHarder(){content.innerHTML=`<div class="emoji">ğŸ‘€</div><h1>Look harder.</h1><p>Iâ€™m right here holding our future â¤ï¸</p><button onclick="photos()">Okay yes ğŸ¥¹</button>`;}

/* SLIDESHOW */
function photos(){
  content.innerHTML=`<div class="emoji">ğŸ“¸</div><h1>Our Memories â¤ï¸</h1>
  <div class="image-frame">
    <img id="slideImg" src="photo1.jpeg">
  </div>
  <p>Enjoy our moments ğŸ¡</p>
  <button onclick="ticTacToe()">Play a game ğŸ®</button>`;
  
  let slideIndex=1; 
  const totalSlides=13;
  const img=document.getElementById("slideImg");
  setInterval(()=>{
    slideIndex++; 
    if(slideIndex>totalSlides) slideIndex=1;
    img.src=`photo${slideIndex}.jpeg`;
  },6000); // each photo 8 sec
}

/* MINI COUNTDOWN */
let miniInterval;
function startMiniCountdown(){
  const box=document.getElementById("miniCountdown");
  box.style.display="block";
  const target=new Date("Jan 1, 2026 00:00:00").getTime();
  clearInterval(miniInterval);
  miniInterval=setInterval(()=>{
    const now=new Date().getTime();
    const diff=target-now;
    if(diff<=0){box.innerHTML="ğŸ† Happy 2026 â¤ï¸";return;}
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff/(1000*60*60))%24);
    const m=Math.floor((diff/(1000*60))%60);
    const s=Math.floor((diff/1000)%60);
    box.innerHTML=`ğŸ† 2026 in<br><b>${d}d ${h}h ${m}m ${s}s</b>`;
  },1000);
}

/* TIC TAC TOE */
let board,current;
function ticTacToe(){
  board=["","","","","","","","",""];
  current="âŒ"; startMiniCountdown();
  content.innerHTML=`<div class="emoji">ğŸ®ğŸ’—</div><h1>Tic Tac Toe</h1><p>You âŒ Me â­• â€” winner gets kisses ğŸ˜Œ</p><div class="tic">${board.map((_,i)=>`<div class="cell" onclick="play(${i})"></div>`).join("")}</div><p id="ticMsg">Your turn â¤ï¸</p><button onclick="countdownPage()">Continue â¡ï¸</button>`;
}
function play(i){if(board[i]!="")return; board[i]=current; document.getElementsByClassName("cell")[i].innerText=current; if(checkWin(current)||!board.includes("")){document.getElementById("ticMsg").innerText="Cute game ğŸ˜ŒğŸ’"; return;} current=current=="âŒ"?"â­•":"âŒ"; if(current=="â­•")setTimeout(aiMove,500);}
function aiMove(){let empty=board.map((v,i)=>v==""?i:null).filter(v=>v!=null); play(empty[Math.floor(Math.random()*empty.length)]);}
function checkWin(p){const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];return w.some(c=>c.every(i=>board[i]==p));}

/* FULL COUNTDOWN PAGE */
function countdownPage(){content.innerHTML=`<div class="emoji">ğŸ†ğŸ’–</div><h1>Waiting for 2026</h1><p id="count">Loading...</p><p>New year, same us, more love â¤ï¸</p><button onclick="forever()">Next ğŸ˜Œ</button>`; startCountdown();}
function startCountdown(){const t=new Date("Jan 1, 2026 00:00:00").getTime(); setInterval(()=>{const d=t-new Date().getTime(); if(d<=0){document.getElementById("count").innerText="ğŸ† Happy 2026 â¤ï¸"; return;} const days=Math.floor(d/86400000); const hours=Math.floor((d/3600000)%24); const minutes=Math.floor((d/60000)%60); const seconds=Math.floor((d/1000)%60); document.getElementById("count").innerText=`${days}d ${hours}h ${minutes}m ${seconds}s`;},1000);}

/* FOREVER QUESTION */
function forever(){content.innerHTML=`<div class="emoji">ğŸ’</div><h1>One last questionâ€¦</h1><p><b>Will you be mine forever?</b></p><button onclick="finalYes()">Yes â¤ï¸</button><button onclick="wrong()">Hmm ğŸ¤”</button>`;}
function finalYes(){content.innerHTML=`<div class="emoji">ğŸ†ğŸ’–</div><h1>I love you Sampritha</h1><p>Today â¤ï¸ Tomorrow ğŸ’« Forever ğŸ’</p>`;startFireworks();}

/* FIREWORKS */
const canvas=document.getElementById("fireworks"); 
const ctx=canvas.getContext("2d"); 
canvas.width=innerWidth; 
canvas.height=innerHeight; 
let particles=[];
function startFireworks(){
  setInterval(()=>{
    for(let i=0;i<80;i++)
      particles.push({x:canvas.width/2,y:canvas.height/2,dx:(Math.random()-.5)*8,dy:(Math.random()-.5)*8,l:100});
  },600); 
  (function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height); 
    particles.forEach((p,i)=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,2,0,Math.PI*2);
      ctx.fillStyle="rgba(255,77,109,.8)";
      ctx.fill();
      p.x+=p.dx;
      p.y+=p.dy;
      p.l--;
      if(p.l<=0)particles.splice(i,1);
    }); 
    requestAnimationFrame(animate);
  })();
}
</script>
</body>
</html>
